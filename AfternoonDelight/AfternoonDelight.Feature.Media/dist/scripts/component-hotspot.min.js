"use strict";!function(t){var o={root:".hotspot-image",imageContainer:".hotspot-image__image",hotspot:".hotspot-image__hotspot",hotspotInformation:"TODO",scPageEditor:".on-page-editor",scChromeElement:".scEnabledChrome"},a=function(e,a,n){var i="//afternoondelight/customapi/HotspotImage/SaveHotspotCoordintes",r=t(o.root).data();return t.ajax({url:i,type:"POST",dataType:"json",data:{HotspotImageId:r.hotspotImageId,XLocation:e,YLocation:a,Title:n,DatabaseName:r.databaseName},success:function(t){s(e,a)},error:function(t){throw Error("Unable to POST event to the service")}})},s=function(e,a){t(".js-hotspots").append('<span class="'+o.hotspot+'" style="top: '+a+"%; left: "+e+'%; "></span>')},n=function(t,e){var a=e.attr("data-hotspot-id"),s=t.find(o.hotspotInformation),n=s.filter("[data-hotspot-id="+a+"]");e.hasClass(classes.activeHotspot)?(e.removeClass(classes.activeHotspot),n.slideUp().attr("aria-hidden",!0)):(i(t),e.addClass(classes.activeHotspot),n.slideDown().attr("aria-hidden",!1))},i=function(t){var e=t.find(o.hotspotInformation);t.find(o.hotspot).removeClass(classes.activeHotspot),e.slideUp().attr("aria-hidden",!0)},r=function(){t(o.imageContainer+" "+scChromeElement).on("click",function(e){e.preventDefault();var s=t(e.target);if(s.hasClass(o.hotspot))alert("You cannot add a hotspot to the same location");else{var n=s.offset(),i=e.pageX-n.left,r=e.pageY-n.top,c=s.height(),p=s.width(),h=(r/c*100).toFixed(2),l=(i/p*100).toFixed(2),d=prompt("Title of your hotspot item:");a(l,h,d)}})},c=function(){t(".on-page-editor").length&&t(o.hotspot).on("click",function(){n(t(e.target))}),t(".hotspot-controls__activate").on("click",function(o){o.preventDefault(),t(o.target).hide(),t(".hotspot-controls__deactivate").show(),r()}),t(".hotspot-controls__deactivate").on("click",function(e){e.preventDefault(),t(e.target).hide(),t(".hotspot-controls__activate").show(),t(o.imageContainer+" "+scChromeElement).off("click")})},p=function(){!t(".on-page-editor").length},h=function(){t(o.root).length&&t(o.scPageEditor).length&&(c(),p())};h()}(jQuery);
//# sourceMappingURL=component-hotspot.min.js.map
