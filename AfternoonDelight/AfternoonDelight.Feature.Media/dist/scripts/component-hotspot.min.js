"use strict";!function(t){var o={root:".hotspot-image",imageContainer:".hotspot-image__image",hotspot:".hotspot-image__hotspot",hotspotInformation:".hotspot-item",scPageEditor:".on-page-editor",scChromeElement:".scEnabledChrome"},e={activeHotspot:"hotspot-image__hotspot--active"},a=function(e,a,i){var s="//afternoondelight/customapi/HotspotImage/SaveHotspotCoordintes",n=t(o.root).data();return t.ajax({url:s,type:"POST",dataType:"json",data:{HotspotImageId:n.hotspotImageId,XLocation:e,YLocation:a,Title:i,DatabaseName:n.databaseName},success:function(t){location.reload()},error:function(t){throw Error("Unable to POST event to the service")}})},i=function(t){var a=t.closest(o.root),i=t.attr("data-hotspot-id"),n=a.find(o.hotspotInformation),r=n.filter('[data-hotspot-id="'+i+'"]');t.hasClass(e.activeHotspot)?(t.removeClass(e.activeHotspot),r.slideUp().attr("aria-hidden",!0)):(s(a),t.addClass(e.activeHotspot),r.slideDown().attr("aria-hidden",!1))},s=function(t){var a=t.find(o.hotspotInformation);t.find(o.hotspot).removeClass(e.activeHotspot),a.slideUp().attr("aria-hidden",!0)},n=function(){t(o.imageContainer+" "+o.scChromeElement).on("click",function(e){e.preventDefault();var i=t(e.target);if(i.hasClass(o.hotspot))alert("You cannot add a hotspot to the same location");else{var s=i.offset(),n=e.pageX-s.left,r=e.pageY-s.top,c=i.height(),p=i.width(),h=(r/c*100).toFixed(2),d=(n/p*100).toFixed(2),l=prompt("Title of your hotspot item:");a(d,h,l)}})},r=function(){t(".on-page-editor").length?(t(".hotspot-controls__activate").on("click",function(o){o.preventDefault(),t(o.target).hide(),t(".hotspot-controls__deactivate").show(),n()}),t(".hotspot-controls__deactivate").on("click",function(e){e.preventDefault(),t(e.target).hide(),t(".hotspot-controls__activate").show(),t(o.imageContainer+" "+o.scChromeElement).off("click")})):t(o.hotspot).on("click",function(o){i(t(o.target))})},c=function(){if(t(".hotspot-controls__deactivate").hide(),!t(".on-page-editor").length){var a=t(o.root).find(o.hotspot);a.removeClass(e.activeHotspot);var i=a.first();i.addClass(e.activeHotspot);var s=i.attr("data-hotspot-id");t(o.hotspotInformation).hide(),t(o.hotspotInformation).filter('[data-hotspot-id="'+s+'"]').slideUp()}},p=function(){t(o.root).length&&(r(),c())};p()}(jQuery);
//# sourceMappingURL=component-hotspot.min.js.map
