{"version":3,"sources":["component-hotspot.js"],"names":["$","selectors","root","imageContainer","_eventListeners","on","e","preventDefault","$this","target","hasClass","alert","offset","x","pageX","left","y","pageY","top","imageHeight","height","imageWidth","width","yPos","toFixed","xPos","_addHotspot","append","_activateHotspots","hide","show","_deactivateHostpots","off","init","length","jQuery"],"mappings":"cAAA,SAAAA,GACA,GAAAC,IACAC,KAAA,iBACAC,eAAA,yBAGAC,EAAA,WACAJ,EAAAC,EAAAE,gBAAAE,GAAA,QAAA,SAAAC,GACAA,EAAAC,gBAEA,IAAAC,GAAAR,EAAAM,EAAAG,OACA,IAAAD,EAAAE,SAAA,WACAC,MAAA,qDACA,CACA,GAAAC,GAAAJ,EAAAI,SAEAC,EAAAP,EAAAQ,MAAAF,EAAAG,KACAC,EAAAV,EAAAW,MAAAL,EAAAM,IAEAC,EAAAX,EAAAY,SACAC,EAAAb,EAAAc,QAEAC,GAAAP,EAAAG,EAAA,KAAAK,QAAA,GACAC,GAAAZ,EAAAQ,EAAA,KAAAG,QAAA,EASAE,GAAAD,EAAAF,OAuBAG,EAAA,SAAAb,EAAAG,GAEAhB,EAAA,gBAAA2B,OAAA,oDAAAX,EAAA,YAAAH,EAAA,iBAGAe,EAAA,WACA5B,EAAA,gCAAAK,GAAA,QAAA,SAAAC,GACAN,EAAAM,EAAAG,QAAAoB,OACA7B,EAAA,kCAAA8B,OACA1B,OAIA2B,EAAA,WACA/B,EAAA,kCAAAK,GAAA,QAAA,SAAAC,GAEAN,EAAAM,EAAAG,QAAAoB,OACA7B,EAAA,gCAAA8B,OACA9B,EAAAC,EAAAE,gBAAA6B,IAAA,YAQAC,EAAA,WACAjC,EAAAC,EAAAC,MAAAgC,SACAN,IACAG,KAIAE,MAEAE","file":"component-hotspot.min.js","sourcesContent":["(($) => {\n    let selectors = {\n        root: '.hotspot-image',\n        imageContainer: '.hotspot-image__image',\n    };\n\n    let _eventListeners = () => {\n        $(selectors.imageContainer).on('click', (e) => {\n            e.preventDefault();\n            \n            let $this = $(e.target);\n            if ($this.hasClass('hotspot')) {\n                alert('You cannot add a hotspot to the same location');\n            } else {\n                let offset = $this.offset();\n\n                let x = e.pageX - offset.left;\n                let y = e.pageY - offset.top;\n\n                let imageHeight = $this.height();\n                let imageWidth = $this.width();\n\n                let yPos = (y / imageHeight * 100).toFixed(2);\n                let xPos = (x / imageWidth * 100).toFixed(2);\n\n\n                // send api call providing x and y positions\n\n                // prompt to confirm if user would like to place hotspot\n\n                // get data back from sitecore with item guid\n\n                _addHotspot(xPos, yPos);\n            }\n        });\n    };\n\n    let _sendData = () => {\n\n        var apiUrl = '';\n\n        return $.ajax({\n            url: apiUrl,\n            type: 'POST',\n            dataType: 'json',\n            data: 'x and y',\n            success: function (data) {\n\n            },\n            error: function (data) {\n                throw Error('Unable to POST event to the service');\n            }\n        });\n    };\n\n    let _addHotspot = (x, y) => {        \n        // this will be done after confirmation from sitecore that item is created\n        $('.js-hotspots').append('<span class=\"hotspot-image__hotspot\" style=\"top: ' + y + '%; left: ' + x + '%; \"></span>');\n    };\n\n    let _activateHotspots = () => {\n        $('.hotspots-controls__activate').on('click', (e) => {\n            $(e.target).hide();\n            $('.hotspots-controls__deactivate').show();\n            _eventListeners();\n        });\n    };\n\n    let _deactivateHostpots = () => {\n        $('.hotspots-controls__deactivate').on('click', (e) => {\n            \n            $(e.target).hide();\n            $('.hotspots-controls__activate').show();\n            $(selectors.imageContainer).off('click');\n        });\n    };\n\n    let _toggleHotspotContent = () => {\n\n    };\n\n    let init = () => {\n        if ($(selectors.root).length) {\n            _activateHotspots();\n            _deactivateHostpots();\n        }\n    };\n\n    init();\n\n})(jQuery);\n"]}