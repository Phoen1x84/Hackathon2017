{"version":3,"sources":["component-hotspot.js"],"names":["$","selectors","root","imageContainer","_eventListeners","on","e","preventDefault","$this","target","hasClass","alert","offset","x","pageX","left","y","pageY","top","imageHeight","height","imageWidth","width","yPos","toFixed","xPos","_addHotspot","append","_activateHotspots","hide","show","_deactivateHostpots","off","init","length","jQuery"],"mappings":"cAAA,SAAAA,GACA,GAAAC,IACAC,KAAA,iBACAC,eAAA,yBAGAC,EAAA,WACAJ,EAAAC,EAAAE,gBAAAE,GAAA,QAAA,SAAAC,GACAA,EAAAC,gBAEA,IAAAC,GAAAR,EAAAM,EAAAG,OACA,IAAAD,EAAAE,SAAA,WACAC,MAAA,qDACA,CACA,GAAAC,GAAAJ,EAAAI,SAEAC,EAAAP,EAAAQ,MAAAF,EAAAG,KACAC,EAAAV,EAAAW,MAAAL,EAAAM,IAEAC,EAAAX,EAAAY,SACAC,EAAAb,EAAAc,QAEAC,GAAAP,EAAAG,EAAA,KAAAK,QAAA,GACAC,GAAAZ,EAAAQ,EAAA,KAAAG,QAAA,EASAE,GAAAD,EAAAF,OAuBAG,EAAA,SAAAb,EAAAG,GAEAhB,EAAA,gBAAA2B,OAAA,oDAAAX,EAAA,YAAAH,EAAA,iBAGAe,EAAA,WACA5B,EAAA,gCAAAK,GAAA,QAAA,SAAAC,GACAN,EAAAM,EAAAG,QAAAoB,OACA7B,EAAA,kCAAA8B,OACA1B,OAIA2B,EAAA,WACA/B,EAAA,kCAAAK,GAAA,QAAA,SAAAC,GAEAN,EAAAM,EAAAG,QAAAoB,OACA7B,EAAA,gCAAA8B,OACA9B,EAAAC,EAAAE,gBAAA6B,IAAA,YAQAC,EAAA,WACAjC,EAAAC,EAAAC,MAAAgC,SACAN,IACAG,KAIAE,MAEAE","file":"component-hotspot.min.js","sourcesContent":["(($) => {\r\n    let selectors = {\r\n        root: '.hotspot-image',\r\n        imageContainer: '.hotspot-image__image',\r\n    };\r\n\r\n    let _eventListeners = () => {\r\n        $(selectors.imageContainer).on('click', (e) => {\r\n            e.preventDefault();\r\n            \r\n            let $this = $(e.target);\r\n            if ($this.hasClass('hotspot')) {\r\n                alert('You cannot add a hotspot to the same location');\r\n            } else {\r\n                let offset = $this.offset();\r\n\r\n                let x = e.pageX - offset.left;\r\n                let y = e.pageY - offset.top;\r\n\r\n                let imageHeight = $this.height();\r\n                let imageWidth = $this.width();\r\n\r\n                let yPos = (y / imageHeight * 100).toFixed(2);\r\n                let xPos = (x / imageWidth * 100).toFixed(2);\r\n\r\n\r\n                // send api call providing x and y positions\r\n\r\n                // prompt to confirm if user would like to place hotspot\r\n\r\n                // get data back from sitecore with item guid\r\n\r\n                _addHotspot(xPos, yPos);\r\n            }\r\n        });\r\n    };\r\n\r\n    let _sendData = () => {\r\n\r\n        var apiUrl = '';\r\n\r\n        return $.ajax({\r\n            url: apiUrl,\r\n            type: 'POST',\r\n            dataType: 'json',\r\n            data: 'x and y',\r\n            success: function (data) {\r\n\r\n            },\r\n            error: function (data) {\r\n                throw Error('Unable to POST event to the service');\r\n            }\r\n        });\r\n    };\r\n\r\n    let _addHotspot = (x, y) => {        \r\n        // this will be done after confirmation from sitecore that item is created\r\n        $('.js-hotspots').append('<span class=\"hotspot-image__hotspot\" style=\"top: ' + y + '%; left: ' + x + '%; \"></span>');\r\n    };\r\n\r\n    let _activateHotspots = () => {\r\n        $('.hotspots-controls__activate').on('click', (e) => {\r\n            $(e.target).hide();\r\n            $('.hotspots-controls__deactivate').show();\r\n            _eventListeners();\r\n        });\r\n    };\r\n\r\n    let _deactivateHostpots = () => {\r\n        $('.hotspots-controls__deactivate').on('click', (e) => {\r\n            \r\n            $(e.target).hide();\r\n            $('.hotspots-controls__activate').show();\r\n            $(selectors.imageContainer).off('click');\r\n        });\r\n    };\r\n\r\n    let _toggleHotspotContent = () => {\r\n\r\n    };\r\n\r\n    let init = () => {\r\n        if ($(selectors.root).length) {\r\n            _activateHotspots();\r\n            _deactivateHostpots();\r\n        }\r\n    };\r\n\r\n    init();\r\n\r\n})(jQuery);\r\n"]}